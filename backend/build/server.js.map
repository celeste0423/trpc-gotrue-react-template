{"version":3,"sources":["../src/server.ts"],"sourcesContent":["import 'dotenv/config'\nimport 'reflect-metadata'\n\nimport { TRPCError } from '@trpc/server'\nimport { fastifyTRPCPlugin } from '@trpc/server/adapters/fastify'\n\nimport fastifyCORS from '@fastify/cors'\nimport fastify from 'fastify'\n\n// import notificationService from '@/integrations/notifications'\nimport appRouter from './app'\nimport createContext from './context'\n\nexport const fastifyServer = fastify({\n\tmaxParamLength: 5000,\n})\n\nfastifyServer.register(fastifyCORS, {\n\torigin: (origin, callback) => {\n\t\t// if (!origin) return callback(null, true)\n\t\treturn callback(null, true)\n\t},\n})\n\nfastifyServer.register(fastifyTRPCPlugin, {\n\ttrpcOptions: {\n\t\trouter: appRouter,\n\t\tcreateContext,\n\t\tonError: ({ error }: { error: TRPCError }) => {\n\t\t\t//^?\n\t\t\tconsole.log(error)\n\t\t},\n\t},\n})\n"],"names":["fastifyServer","fastify","maxParamLength","register","fastifyCORS","origin","callback","fastifyTRPCPlugin","trpcOptions","router","appRouter","createContext","onError","error","console","log"],"mappings":";;;;+BAaaA;;;eAAAA;;;QAbN;QACA;yBAG2B;6DAEV;iEACJ;4DAGE;gEACI;;;;;;AAEnB,MAAMA,gBAAgBC,IAAAA,iBAAO,EAAC;IACpCC,gBAAgB;AACjB;AAEAF,cAAcG,QAAQ,CAACC,aAAW,EAAE;IACnCC,QAAQ,CAACA,QAAQC;QAChB,2CAA2C;QAC3C,OAAOA,SAAS,MAAM;IACvB;AACD;AAEAN,cAAcG,QAAQ,CAACI,0BAAiB,EAAE;IACzCC,aAAa;QACZC,QAAQC,YAAS;QACjBC,eAAAA,gBAAa;QACbC,SAAS,CAAC,EAAEC,KAAK,EAAwB;YACxC,IAAI;YACJC,QAAQC,GAAG,CAACF;QACb;IACD;AACD"}